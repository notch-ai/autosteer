/* Tailwind CSS directives */
@tailwind base;
@tailwind components;
@tailwind utilities;

/* Tailwind-compatible design tokens and CSS variables */
/* Merged from design-tokens.css for consolidated theme management */

/* Font Face Declarations - Using Fira Code from Google Fonts */
/* Fira Code is loaded via link tag in index.html */
/* Weights available: 300, 400, 500, 600, 700 */

:root {
  /* ===== Theme-specific variables will be injected by ThemeContext ===== */
  /* These are the CSS variables that will be dynamically set:
     --primary, --primary-hover, --primary-active
     --background, --background-secondary, --background-tertiary, --background-elevated
     --text, --text-secondary, --text-tertiary, --text-inverse
     --border, --border-secondary, --border-tertiary
     --success, --warning, --error, --info
     --glow, --glow-intense, --shadow
     --accent, --accent-secondary, --highlight, --comment
  */

  /* ===== Base Color Palette ===== */
  /* Primary brand colors */
  --base-brand-blue: #404ce8;
  --base-brand-blue-hover: #3641d0;
  --base-brand-blue-active: #3b46dc;

  /* Accent colors */
  --base-purple: #bd93f9;
  --base-purple-alt: #6366f1;
  --base-cyan: #00ffcc;
  --base-cyan-light: #33ffdd;

  /* Neutrals */
  --base-black: #000000;
  --base-black-soft: #0a0a0a;
  --base-white: #ffffff;

  /* Semantic colors */
  --base-success: #4caf50;
  --base-success-alt: #10b981;
  --base-warning: #ff9800;
  --base-warning-alt: #f59e0b;
  --base-error: #f44336;
  --base-error-alt: #ef4444;
  --base-info: #2196f3;
  --base-info-alt: #3b82f6;

  /* Tailwind semantic color mappings */
  --color-success-green: var(--base-success-alt);
  --color-warning-orange: var(--base-warning-alt);
  --color-error-red: var(--base-error-alt);
  --color-info-blue: var(--base-info-alt);

  /* Gray scale */
  --base-gray-50: #f7f8fa;
  --base-gray-100: #f3f4f6;
  --base-gray-200: #e5e7eb;
  --base-gray-300: #d1d5db;
  --base-gray-400: #9ca3af;
  --base-gray-500: #6b7280;
  --base-gray-600: #4b5563;
  --base-gray-700: #374151;
  --base-gray-800: #1f2937;
  --base-gray-900: #111827;

  /* ===== Theme Color Assignments ===== */
  /* Brand colors */
  --brand-primary: var(--base-brand-blue);
  --brand-primary-hover: var(--base-brand-blue-hover);
  --brand-primary-active: var(--base-brand-blue-active);

  /* Legacy color variables removed - now using shadcn semantic tokens via .theme-night and .theme-day classes */

  /* ===== Typography ===== */
  /*
   * Base monospace font - Runtime-injected from config.json via useFontVariables hook
   *
   * IMPORTANT: This default matches settings.ts:80 default preferences
   * It serves as the initial value before JavaScript runs, preventing FOUT
   * Once React mounts, useFontVariables will override this with config.json value
   */
  --font-family-mono: 'Fira Code', 'SF Mono', Monaco, Consolas, monospace;

  /* Font sizes - Calculated in pixels for consistency (runtime-injected via useFontSizeVariables hook) */
  --font-size-xs: 9.75px; /* 75% of medium (13px) base - small labels, captions */
  --font-size-sm: 11.375px; /* 87.5% of medium (13px) base - secondary text, small buttons */
  --font-size-base: 13px; /* Base size (12px/13px/14px) - body text, primary content */
  --font-size-md: 14.625px; /* 112.5% of medium (13px) base - emphasized text */
  --font-size-lg: 16.25px; /* 125% of medium (13px) base - subheadings */
  --font-size-xl: 19.5px; /* 150% of medium (13px) base - headings */
  --font-size-2xl: 24.375px; /* 187.5% of medium (13px) base - large headings */
  --font-size-3xl: 29.25px; /* 225% of medium (13px) base - hero text */

  --font-weight-light: 300;
  --font-weight-regular: 400;
  --font-weight-medium: 500;
  --font-weight-semibold: 600;
  --font-weight-bold: 700;
  --font-weight-black: 900;

  --line-height-tight: 1.25;
  --line-height-normal: 1.5;
  --line-height-relaxed: 1.75;

  /* ===== Spacing ===== */
  --spacing-2xs: 2px;
  --spacing-xs: 4px;
  --spacing-sm: 8px;
  --spacing-md: 12px;
  --spacing-lg: 16px;
  --spacing-xl: 20px;
  --spacing-2xl: 24px;
  --spacing-3xl: 32px;
  --spacing-4xl: 40px;
  --spacing-5xl: 48px;

  /* ===== Border Radius ===== */
  --radius-sm: 4px;
  --radius-md: 6px;
  --radius-lg: 8px;
  --radius-xl: 12px;
  --radius-2xl: 16px;
  --radius-full: 9999px;

  /* ===== Shadows - Night mode uses white glow effects ===== */
  --shadow-xs: 0 1px 2px 0 var(--white-opacity-05);
  --shadow-sm: 0 2px 4px var(--white-opacity-10);
  --shadow-md: 0 4px 6px var(--white-opacity-15), 0 0 8px var(--white-opacity-05);
  --shadow-lg: 0 10px 15px var(--white-opacity-15), 0 0 15px var(--white-opacity-10);
  --shadow-xl: 0 20px 25px var(--white-opacity-20), 0 0 25px var(--white-opacity-15);
  --shadow-2xl: 0 25px 50px var(--white-opacity-20), 0 0 35px var(--white-opacity-15);
  --shadow-inner: inset 0 2px 4px 0 var(--white-opacity-30);

  /* ===== Transitions ===== */
  --transition-fast: 150ms ease-in-out;
  --transition-base: 200ms ease-in-out;
  --transition-slow: 300ms ease-in-out;
  --transition-slower: 500ms ease-in-out;

  /* ===== Z-Index Scale ===== */
  --z-base: 0;
  --z-dropdown: 100;
  --z-sticky: 200;
  --z-overlay: 300;
  --z-modal: 400;
  --z-popover: 500;
  --z-tooltip: 600;
  --z-notification: 700;

  /* ===== Component Specific ===== */
  --sidebar-width: 260px;
  --sidebar-collapsed-width: 64px;
  --detail-panel-width: 360px;
  --detail-panel-collapsed-width: 48px;
  --header-height: 24px;
  --min-content-width: 400px;

  /* Resizable Panels */
  --resize-handle-width: 4px;
  --resize-handle-hover-width: 12px;
  --resize-handle-color: transparent;
  --resize-handle-hover-color: var(--gray-opacity-30);
  --resize-handle-active-color: var(--gray-opacity-50);

  /* ===== Opacity-based Colors (Theme-specific) ===== */
  /* Black opacity variants */
  --black-opacity-02: rgba(0, 0, 0, 0.02);
  --black-opacity-03: rgba(0, 0, 0, 0.03);
  --black-opacity-04: rgba(0, 0, 0, 0.04);
  --black-opacity-05: rgba(0, 0, 0, 0.05);
  --black-opacity-08: rgba(0, 0, 0, 0.08);
  --black-opacity-10: rgba(0, 0, 0, 0.1);
  --black-opacity-15: rgba(0, 0, 0, 0.15);
  --black-opacity-20: rgba(0, 0, 0, 0.2);
  --black-opacity-30: rgba(0, 0, 0, 0.3);
  --black-opacity-40: rgba(0, 0, 0, 0.4);
  --black-opacity-50: rgba(0, 0, 0, 0.5);
  --black-opacity-60: rgba(0, 0, 0, 0.6);
  --black-opacity-80: rgba(0, 0, 0, 0.8);

  /* White opacity variants */
  --white-opacity-05: rgba(255, 255, 255, 0.05);
  --white-opacity-10: rgba(255, 255, 255, 0.1);
  --white-opacity-15: rgba(255, 255, 255, 0.15);
  --white-opacity-20: rgba(255, 255, 255, 0.2);
  --white-opacity-30: rgba(255, 255, 255, 0.3);
  --white-opacity-40: rgba(255, 255, 255, 0.4);
  --white-opacity-50: rgba(255, 255, 255, 0.5);

  /* Gray opacity variants */
  --gray-opacity-20: rgba(102, 102, 102, 0.2);
  --gray-opacity-25: rgba(102, 102, 102, 0.25);
  --gray-opacity-30: rgba(102, 102, 102, 0.3);
  --gray-opacity-50: rgba(102, 102, 102, 0.5);

  --radius: 0.5rem;

  /* Legacy color variable mappings for backwards compatibility */
  --color-text: var(--foreground);
  --color-background: var(--background);
  --color-surface: var(--card);
  --color-border: var(--border);
  --color-primary: var(--primary);
  --color-text-muted: var(--muted-foreground);
}

/* ===== Theme Classes with RGB Triplets ===== */
.theme-night {
  /* shadcn/ui tokens in RGB format */
  --background: 2 5 12; /* hsl(222.2 84% 4.9%) -> rgb(2, 5, 12) */
  --foreground: 248 250 252; /* hsl(210 40% 98%) -> rgb(248, 250, 252) */
  --card: 22 22 28; /* hsl(240 12% 10%) -> rgb(22, 22, 28) - Lighter sidebar background */
  --card-foreground: 248 250 252; /* hsl(210 40% 98%) -> rgb(248, 250, 252) */
  --popover: 2 5 12; /* hsl(222.2 84% 4.9%) -> rgb(2, 5, 12) */
  --popover-foreground: 248 250 252; /* hsl(210 40% 98%) -> rgb(248, 250, 252) */
  --primary: 248 250 252; /* hsl(210 40% 98%) -> rgb(248, 250, 252) */
  --primary-foreground: 2 5 12; /* hsl(222.2 84% 4.9%) -> rgb(2, 5, 12) */
  --secondary: 30 41 59; /* hsl(217.2 32.6% 17.5%) -> rgb(30, 41, 59) */
  --secondary-foreground: 248 250 252; /* hsl(210 40% 98%) -> rgb(248, 250, 252) */
  --muted: 22 22 28; /* hsl(240 12% 10%) -> rgb(22, 22, 28) - Matches surface: #16161c */
  --muted-foreground: 139 140 145; /* hsl(234 4% 56%) -> rgb(139, 140, 145) - Matches text-muted: #8b8c91 */
  --accent: 29 30 38; /* hsl(237 13% 13%) -> rgb(29, 30, 38) - Matches surface-hover: #1d1e26 */
  --accent-foreground: 248 250 252; /* hsl(210 40% 98%) -> rgb(248, 250, 252) */
  --destructive: 156 23 23; /* hsl(0 62.8% 30.6%) -> rgb(156, 23, 23) */
  --destructive-foreground: 248 250 252; /* hsl(210 40% 98%) -> rgb(248, 250, 252) */
  --border: 42 43 54; /* hsl(235 13% 19%) -> rgb(42, 43, 54) - #2a2b36 */
  --input: 42 43 54; /* hsl(235 13% 19%) -> rgb(42, 43, 54) - #2a2b36 */
  --ring: 203 213 225; /* hsl(212.7 26.8% 83.9%) -> rgb(203, 213, 225) */

  /* Hover and active states - distinct colors */
  --card-hover: 29 30 38; /* Hover state - slightly lighter than card */
  --card-active: 42 43 54; /* Active state - even lighter, matches border color */

  /* Terminal colors - black background for traditional terminal look */
  --color-terminal-bg: 0 0 0; /* Black background for terminal */
  --color-terminal-scrollbar: 128 128 128; /* Gray scrollbar */

  /* Terminal ANSI colors */
  --color-terminal-black: 230 230 230; /* Very light gray for default text visibility */
  --color-terminal-red: 239 83 80; /* Brighter red */
  --color-terminal-green: 46 204 113; /* Emerald green */
  --color-terminal-yellow: 241 196 15; /* Gold yellow */
  --color-terminal-blue: 52 152 219; /* Sky blue */
  --color-terminal-magenta: 189 147 249; /* Purple */
  --color-terminal-cyan: 22 160 133; /* Teal cyan */
  --color-terminal-white: 248 250 252; /* White from foreground */
  --color-terminal-bright-black: 245 245 245; /* Almost white gray */
  --color-terminal-bright-red: 255 105 97; /* Bright red */
  --color-terminal-bright-green: 80 250 123; /* Bright green */
  --color-terminal-bright-yellow: 255 231 76; /* Bright yellow */
  --color-terminal-bright-blue: 97 175 239; /* Bright blue */
  --color-terminal-bright-magenta: 219 188 255; /* Bright magenta */
  --color-terminal-bright-cyan: 95 226 209; /* Bright cyan */
  --color-terminal-bright-white: 255 255 255; /* Pure white */
}

.theme-day {
  /* shadcn/ui tokens in RGB format */
  --background: 255 255 255; /* hsl(0 0% 100%) -> rgb(255, 255, 255) */
  --foreground: 2 5 12; /* hsl(222.2 84% 4.9%) -> rgb(2, 5, 12) */
  --card: 245 245 245; /* hsl(0 0% 96%) -> rgb(245, 245, 245) - Sidebar background #f5f5f5 */
  --card-foreground: 2 5 12; /* hsl(222.2 84% 4.9%) -> rgb(2, 5, 12) */
  --popover: 255 255 255; /* hsl(0 0% 100%) -> rgb(255, 255, 255) */
  --popover-foreground: 2 5 12; /* hsl(222.2 84% 4.9%) -> rgb(2, 5, 12) */
  --primary: 20 25 35; /* hsl(222.2 47.4% 11.2%) -> rgb(20, 25, 35) */
  --primary-foreground: 248 250 252; /* hsl(210 40% 98%) -> rgb(248, 250, 252) */
  --secondary: 239 242 245; /* hsl(210 40% 96%) -> rgb(239, 242, 245) */
  --secondary-foreground: 2 5 12; /* hsl(222.2 84% 4.9%) -> rgb(2, 5, 12) */
  --muted: 245 245 245; /* hsl(0 0% 96%) -> rgb(245, 245, 245) - Matches surface: #f5f5f5 */
  --muted-foreground: 143 147 157; /* hsl(223 8% 59%) -> rgb(143, 147, 157) - Matches text-muted: #8f939d */
  --accent: 239 239 239; /* hsl(0 0% 94%) -> rgb(239, 239, 239) - Matches surface-hover: #efefef */
  --accent-foreground: 2 5 12; /* hsl(222.2 84% 4.9%) -> rgb(2, 5, 12) */
  --destructive: 248 113 113; /* hsl(0 84.2% 60.2%) -> rgb(248, 113, 113) */
  --destructive-foreground: 248 250 252; /* hsl(210 40% 98%) -> rgb(248, 250, 252) */
  --border: 222 222 222; /* hsl(0 0% 87%) -> rgb(222, 222, 222) - #dedede */
  --input: 222 222 222; /* hsl(0 0% 87%) -> rgb(222, 222, 222) - #dedede */
  --ring: 2 5 12; /* hsl(222.2 84% 4.9%) -> rgb(2, 5, 12) */

  /* Hover and active states - distinct colors */
  --card-hover: 239 239 239; /* Hover state #efefef */
  --card-active: 228 228 228; /* Active state #e4e4e4 */

  /* Day theme shadows */
  --shadow-xs: 0 1px 2px 0 var(--black-opacity-05);
  --shadow-sm: 0 2px 4px var(--black-opacity-15);
  --shadow-md: 0 4px 6px var(--black-opacity-20), 0 0 8px var(--black-opacity-10);
  --shadow-lg: 0 10px 15px var(--black-opacity-20), 0 0 15px var(--black-opacity-15);
  --shadow-xl: 0 20px 25px var(--black-opacity-30), 0 0 25px var(--black-opacity-20);
  --shadow-2xl: 0 25px 50px var(--black-opacity-30), 0 0 35px var(--black-opacity-20);
  --shadow-inner: inset 0 2px 4px 0 var(--black-opacity-80);

  /* Terminal colors - black background for traditional terminal look */
  --color-terminal-bg: 0 0 0; /* Black background for terminal */
  --color-terminal-scrollbar: 128 128 128; /* Gray scrollbar */

  /* Terminal ANSI colors */
  --color-terminal-black: 230 230 230; /* Very light gray for default text visibility */
  --color-terminal-red: 239 83 80; /* Brighter red */
  --color-terminal-green: 46 204 113; /* Emerald green */
  --color-terminal-yellow: 241 196 15; /* Gold yellow */
  --color-terminal-blue: 52 152 219; /* Sky blue */
  --color-terminal-magenta: 189 147 249; /* Purple */
  --color-terminal-cyan: 22 160 133; /* Teal cyan */
  --color-terminal-white: 248 250 252; /* White from foreground */
  --color-terminal-bright-black: 245 245 245; /* Almost white gray */
  --color-terminal-bright-red: 255 105 97; /* Bright red */
  --color-terminal-bright-green: 80 250 123; /* Bright green */
  --color-terminal-bright-yellow: 255 231 76; /* Bright yellow */
  --color-terminal-bright-blue: 97 175 239; /* Bright blue */
  --color-terminal-bright-magenta: 219 188 255; /* Bright magenta */
  --color-terminal-bright-cyan: 95 226 209; /* Bright cyan */
  --color-terminal-bright-white: 255 255 255; /* Pure white */
}

/* ===== Tailwind Directives ===== */
@tailwind base;
@tailwind components;
@tailwind utilities;

/* ===== Base Layer Customizations ===== */
@layer base {
  /* Apply theme fonts */
  html {
    font-family: var(--font-family-mono);
  }

  /* Spin animation for loading indicators */
  @keyframes spin {
    from {
      transform: rotate(0deg);
    }
    to {
      transform: rotate(360deg);
    }
  }

  /* Ensure theme classes cascade properly */
  :root {
    /* Color scheme - dark by default (night theme) */
    color-scheme: dark;
  }

  .theme-day {
    /* Color scheme - light for day theme */
    color-scheme: light;
  }
}

/* ===== Utility Layer Customizations ===== */
@layer utilities {
  /* Disable transitions for color scheme changes */
  .theme-transition-none * {
    transition: none !important;
  }
}
